## 2과목 데이터 처리 기술 이해 (10)

### 1장 데이터 처리 프로세스

### 1절 ETL (Extraction, Transformation and Load)

#### 1. ETL 개요 (p.196)

##### 가. ETL의 개념 및 특징

-   ETL은 **데이터의 이동 및 변환** 절차와 관련된 업계 표준 용어이다.

-   데이터 원천으로 부터 데이터를 추출 및 변환하여 운영 데이터 스토어 (ODS, Operational Data Store), 데이터 웨어 하우스(DW), 데이터 마트(DM) 등에 데이터를 적재하는 작업의 핵심 구성요소이다.

-   대용량 데이터를 처리하기 위한 MPP (Massively Parallel Processing)을 지원할 수 있다.

-   ETL 구현을 위한 여러 상용 소프트웨어 들이 있으며, Batch(일괄) ETL, Real Time (실시간) ETL로 구분된다.

    >   MPP (Massively Parallel Processing): 프로그램을 여러 부분으로 나누어 여러 프로세스가 각 부분을 동시에 수행시키는 것으로 대규모 병렬 처리를 의미한다.

##### 나. ETL의 기능

-   Extraction (추출) : 하나 또는 그 이상의 데이터 원천(Source)들로 부터 데이터 획득
-   Transformation (변형): 데이터 클렌징. 형식변환. 표준화, 통합 또는 다수 애플리케이션에 내장된 비즈니스 룰 적용 등
-   Load (적재) : 변형 단계의 처리가 완료된 데이터를 특정 목표 시스템에 적재

##### 다. ETL의 작업 단계

1.   Step 0 interface : 다양한 이기종 DBMS 및 스프레드시트 등 데이터 원천(source)으로부터 데이터를 획득하기 위한 인터페이스 메커니즘 구현
2.   Step 1 Staging ETL : 수립된 일정에 따라 데이터 원천(Source)으로부터 트랜잭션 데이터 획득 작업 수행 후, 획득된 데이터를 스테이징 테이블에 저장
3.   Step 2 Profilling ETL : 스테이징 테이블에서 데이터 특성을 식별하고 품질을 측정
4.   Step 3 Cleansing ETL : 다양한 규칙득을 활용해 프로파일링된 데이터의 보정 작업을 수행
5.   Step 4 Integration ETL : (이름, 값, 구조) 데이터 충돌을 해소하고, 클렌징된 데이터를 통합
6.   Step 5 Denormalizing ETL : 운영 보고서 생성 및 데이터 웨어하우스 또는 데이터 마트에 대한 데이터 적재를 위해 데이터 비정규화 수행



#### 2. ODS 구성 (p.198)

##### 가. ODS의 개념 및 특징

-   ODS (Operation Data Store)는 데이터에 대한 추가 작업을 위해 다양한 데이터 원천(Source)들로부터 데이터를 추출.통합한 데이터베이스다.
-   ODS 내의 데이터는 향후 비즈니스 지원을 위해 타 정보시스템으로 이관되거나, 다양한 보고서 생성을 위해 데이터 웨어하우스로 이관된다.
-   ODS를 위한 데이터 통합은 일반적으로 데이터 클렌징, 중복제거, 비즈니스 룰 대비 데이터 무결성 점검 등의 작업들을 포함한다.
-   실시간(Real Time) 또는 실시간 근접(Near Real Time) 트랜잭션 데이터 혹은 가격 등의 원자성(개별성)을 지닌 하위 수준 데이터들을 저장하기 위해 설계된다.

##### 나. ODS 구성 단계

-   ODS 구성을 위한 일괄 작업 ETL은 아래와 같은 단계(Layer)로 구성될 수 있으며, 각 단계에 대한 설명은 아래와 같다.

![layerd ODS Architecture](https://user-images.githubusercontent.com/291782/155846729-4c6e88f6-6e48-442d-a1d1-ad35aefe9359.png)

1.   인터페이스 단계
     -   다양한 데이터 원천으로부터 데이터를 획득하는 단계
     -   프로토콜로는 OLEDB (Object Linking and Embedding DB), ODBC (Object Data Base Connectivity), FTP (File Transfer Protocol) 등이 사용된다.
     -   DW에 대한 실시간(Real TIme) 또는 근접 실시간 OLAP (On-Line Analytical Processing) 질의를 지원하기 위해 실시간 데이터 복제 인터페이스 기술들이 함께 활용된다.
2.   데이터 스테이징 단계
     -   트랜잭션 데이터들이 추출되어 하나 또는 그 이상의 **스테이징 테이블들에 저장**되는 단계이다.
     -   이 테이블들은 정규화가 배제되며, 테이블의 스키마는 데이터 원천의 구조에 의존적이다.
     -   데이터 원천과 스테이징 테이블과의 데이터 매핑은 **일대일 또는 일대다**로 구성될 수 있다.
     -   스테이징 테이블들에 적재되는 시점에 적재 타임스탬프, 데이터 값에 대한 체크섬 등의 통제(Control) 정보들이 추가된다.
     -   다양한 이기종 데이터 원천으로부터 데이터를 획득해 스테이징 테이블에 적재하며, 이 때 일괄(Batch) 작업 형태인 정기적인 ETL과 실시간 ETL을 혼용할 수 있다.
3.   데이터 프로파일링 단계
     -   범위.도메인.유일성 확보 등의 규칙을 기준으로 **데이터 품질 점검**을 하는 단계이다.
     -   스테이징 테이블의 데이터에 대한 데이터 프로파일링 수행 > 데이터 프로파일링 결과 통계 처리 > 데이터 품질 보고서 생성 및 공유 의 절차를 거친다.
4.   데이터 클렌징 단계
     -   클렌징 ETL 프로세스들로 데이터 프로파일링 단계에서 식별된 오류 데이터들을 수정하는 단계이다.
5.   데이터 인티그레이션 단계
     -   수정 완료한 데이터를 ODS 내의 **단일 통합 테이블에 적재**하는 단계이다.
6.   익스포트 단계
     -   앞 단계에서 통합된 데이터에 대해 익스포트 규칙과 보안 규칙을 반영한 익스포트 ETL 기능을 수행해 익스포트 테이블을 생성한다. 그 후 다양한 DBMS 클라이언트 또는 데이터 마트, 데이터 웨어하우스에 익스포트 테이블을 적재하는 단계이다.
     -   해당 데이터는 OLAP (On-line analytical Processing) 비정형 질의에 활용될 수 있다.



#### 3. 데이터 웨어하우스 (p.202)
##### 가. 데이터 웨어하우스란?

-   ODS를 통해 정제 및 통합된 데이터가 데이터 분석과 보고서 생성을 위해 적재되는 데이터 저장소

##### 나. DW 특징

-   주제 중심성 (Subject Oriented) : 데이터 웨어하우스의 데이터는 실 업무 상황의 특정 이벤트나 업무 항목을 기준으로 구조화되므로, 최종사용자(end user)도 이해하기 쉬운 형태를 지닌다.
-   영속성. 비휘발성 (Non Volatile) : 데이터는 최초 저장 이후에는 읽기 전용 (read only)의 속성을 가지며, 삭제되지 않는다.
-   통합성 (Integrated) : 데이터는 기관. 조직이 보유한 대부분의 운영 시스템들에 의해 생성된 데이터들의 통합본이다.
-   시계열성 (Time Variant) : 운영 시스템들은 최신 데이터를 보유하고 있지만. 데이터 웨어하우스는 시간 순에 의한 이력 데이터를 보유한다.

##### 다. DW의 데이터 모델링 기법

1.   스타 스키마

     -   조인 스키마 (Join schema)라고도 하며, 데이터 웨어하우스의 스키마 중 가장 단순하다.
     -   단일 사실 테이블 (Fact Table)을 중심으로 한 다수의 차원 테이블 (Dimensional Table)들로 구성된다.
     -   전통적인 관계형 데이터베이스를 통해 다차원 데이터베이스 (Multi-Dimensional Database) 기능을 구현할 수 있다.
     -   스타 스키마의 사실 테이블 (Fact Table)은 보통 **제 3정규형**으로 모델링하며, 차원 테이블 (Dimensional Table)들은 보통 비정규화된 제 2정규형으로 모델링하는 것이 일반적이다.

     장점 : 스노우 플레이크 스키마에 비해 복잡도가 낮아서 이해하기 쉽고, 쿼리 작성이 용이하고 조인 테이블 개수가 적다.

     단점 : 차원 테이블 (Dimensional Table)들의 비정규화에 따른 데이터 중복으로 인해 테이블로 데이터를 적재할 때 상대적으로 많은 시간이 소요된다.

![star-schema](https://user-images.githubusercontent.com/291782/155885816-9656fcfd-ee8d-4aaa-91f7-f767d94fa018.png)

2.   스노우 플레이크 스키마

     -   스타 스키마의 차원 테이블을 제 3정규형으로 정규화한 형태이다.

     장점 : 데이터의 **중복이 제거돼** 데이터 적재 시 시간이 단축된다.

     단점 : 스타 스키마에 비해 스키마 구조의 복잡성이 증가하므로 **조인 테이블의 개수가 증가**하고 쿼리 작성의 난이도가 상승된다.

     ![snow-flake](https://user-images.githubusercontent.com/291782/155885905-2870e6f8-c257-47e0-a3e2-111c936bb7c3.png)

     

##### 라. ODS와 DW의 비교

| 구분          | ODS (Operational Data Store)                         | DW (Data Warehouse)                                          |
| ------------- | ---------------------------------------------------- | ------------------------------------------------------------ |
| 데이터의 내용 | 현재 또는 비교적 최신 데이터                         | 오래된 상세 데이터, 현재 상세 데이터, 요약 데이터,<br/> 2차로 가공된 고도로 요약된 데이터 등 다양한 구조의 데이터 |
| 데이터의 양   | 비교적 소규모 데이터                                 | 대규모 데이터                                                |
| 데이터의 갱신 | 지속적으로 갱신되어 현재의 DB 상태를 반영 (volatile) | 데이터 축적 보관 (Nonvolatile)                               |
| 기술적 요소   | DB 처리의 모든 기능을 사용하도록 설계됨              | 단순한 적재(Load)와 접근(Access) 중심                        |



### 2절 CDC (Change Data Capture)

#### 1. CDC의 개념 및 특징 (p.205)

#### 2. CDC 구현 기법

#### 3. CDC 구현 방식



### 3절 EAI (Enterprise Application Integration)

#### 1. EAI 개념 및 특징 (p.207)

#### 2. 데이터 연계 방식

#### 3.EAI 구성요소

#### 4. EAI 구현 유형

#### 5. EAI 활용 효과

#### 6. EAI와 ESB의 비교



### 4절 데이터 통합 및 연계 기법

#### 1. 데이터 연계 및 통합 유형 (동기화 기준) (p.210)



### 5절 대용량의 비정형 데이터 처리방법

#### 1. 대용량 로그 데이터 수집 (p.213)

#### 2. 대규모 분산 병렬 처리

![hadoop-eco-system](https://user-images.githubusercontent.com/291782/155886987-19619c7c-cacb-4b33-b5c7-93d5fd8fee3f.png)

#### 3. 데이터 연동

#### 4. 대용량 질의 기술 (p.218)



### 2장  데이터 처리 기술

### 1절 분산 데이터 저장 기술

#### 1. 분산 파일 시스템 (p.229)

#### 2. 데이터베이스 클러스터 (p.235)
#### 3. NoSQL (p.242)



### 2절 분산 컴퓨팅 기술

#### 1. MapReduce (p.250)
![map-reduce-word-chart-process](https://user-images.githubusercontent.com/291782/156508689-850f108f-de71-4437-8d77-b7259f638420.png)

#### 2. 병렬 쿼리 시스템 (p.257)

